enum TransactionType {
  INCOME
  EXPENSE
}

model Transaction {
  id          String          @id @default(uuid())
  description String
  type        TransactionType
  datetime    DateTime
  amount      Decimal         @default(0) @db.Decimal(10, 2)
  tenantId    String
  createdAt   DateTime        @default(now())
  createdBy   String
  updatedAt   DateTime        @updatedAt
  updatedBy   String?
  deletedAt   DateTime?
  deletedBy   String?

  tenant       Tenant  @relation(fields: [tenantId], references: [id])
  createdByUser User  @relation("TransactionCreatedBy", fields: [createdBy], references: [id])
  updatedByUser User? @relation("TransactionUpdatedBy", fields: [updatedBy], references: [id])
  deletedByUser User? @relation("TransactionDeletedBy", fields: [deletedBy], references: [id])

  @@index([deletedAt])
}
